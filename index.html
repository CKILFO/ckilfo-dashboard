
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CKILFO Token Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>ðŸ”· CKILFO Token Dashboard</h1>
    <p><strong>Nom du token :</strong> CKILFO Token</p>
    <p><strong>Symbole :</strong> CKF</p>
    <p><strong>Proxy Address :</strong> 
      <a href="https://testnet.bscscan.com/address/0xABEa3d1c6BE1692d6559a59Ff3d9C4A17C012EfD" target="_blank">
        0xABEa3d1c6BE1692d6559a59Ff3d9C4A17C012EfD
      </a>
    </p>
    <p><strong>ImplÃ©mentation :</strong> 
      <a href="https://testnet.bscscan.com/address/0x3D4fec067a565966294f7df0E415C828ec2Cc2C9" target="_blank">
        0x3D4fec067a565966294f7df0E415C828ec2Cc2C9
      </a>
    </p>
    <p><strong>Code source vÃ©rifiÃ© :</strong> âœ…</p>
    <p><strong>Total Supply :</strong> <span id="totalSupply">Chargement...</span></p>

    <hr>

    <h2>ðŸ“¥ VÃ©rifier le solde d'une adresse</h2>
    <input type="text" id="walletAddress" placeholder="Entrez une adresse BSC Testnet" style="width: 100%; padding: 10px; margin-top: 5px;">
    <button onclick="checkBalance()" style="margin-top: 10px; padding: 10px 20px;">VÃ©rifier le solde</button>
    <p><strong>Solde :</strong> <span id="balance">---</span></p>

    <br />
    <a href="https://testnet.bscscan.com/address/0x3D4fec067a565966294f7df0E415C828ec2Cc2C9#code" target="_blank">
      <img src="https://img.shields.io/badge/BscScan-Verified-green?style=for-the-badge&logo=binance" alt="BscScan Verified" />
    </a>
  </div>

  <script>
    const provider = new ethers.providers.JsonRpcProvider("https://data-seed-prebsc-1-s1.binance.org:8545/");
    const tokenAddress = "0xABEa3d1c6BE1692d6559a59Ff3d9C4A17C012EfD";
    const abi = [
      "function totalSupply() public view returns (uint256)",
      "function decimals() public view returns (uint8)",
      "function balanceOf(address account) public view returns (uint256)"
    ];

    async function loadTotalSupply() {
      try {
        const contract = new ethers.Contract(tokenAddress, abi, provider);
        const decimals = await contract.decimals();
        const rawSupply = await contract.totalSupply();
        const formattedSupply = ethers.utils.formatUnits(rawSupply, decimals);
        document.getElementById("totalSupply").textContent = formattedSupply + " CKF";
      } catch (err) {
        document.getElementById("totalSupply").textContent = "Erreur de chargement";
        console.error(err);
      }
    }

    async function checkBalance() {
      const address = document.getElementById("walletAddress").value;
      if (!ethers.utils.isAddress(address)) {
        document.getElementById("balance").textContent = "Adresse invalide";
        return;
      }
      try {
        const contract = new ethers.Contract(tokenAddress, abi, provider);
        const decimals = await contract.decimals();
        const rawBalance = await contract.balanceOf(address);
        const formattedBalance = ethers.utils.formatUnits(rawBalance, decimals);
        document.getElementById("balance").textContent = formattedBalance + " CKF";
      } catch (err) {
        document.getElementById("balance").textContent = "Erreur";
        console.error(err);
      }
    }

    loadTotalSupply();
  </script>
</body>
</html>
